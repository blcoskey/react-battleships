{"version":3,"sources":["game/transforms.js","components/Cell.js","game/Game.js","components/BattleGrid.js","icons/arrow-up.svg","icons/arrow-down.svg","icons/arrow-left.svg","icons/arrow-right.svg","icons/arrow-rotate.svg","icons/shuffle.svg","game/BotBrain.js","components/Game.js","App.js","index.js"],"names":["GameStages","PlayerType","ShipTypes","CARRIER","BATTLESHIP","DESTROYER","SUBMARINE","PATROLBOAT","ShipSizes","0","1","2","3","4","squareStyle","width","height","Cell","hasShip","shipAdjacent","pointer","placingShip","hit","miss","children","disabled","playerType","backgroundColor","style","color","border","cursor","display","alignItems","justifyContent","React","memo","hasAdjacentShip","x","y","ships","find","shipX","shipY","Math","abs","getShip","cellX","cellY","boardStyle","flexWrap","BattleGrid","shots","selectedShip","stage","fireShot","renderCell","i","floor","shot","getShot","label","getLabel","onClick","squares","push","_extends","Object","assign","target","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","fillRule","clipRule","d","fill","SvgArrowUp","_ref","svgRef","title","titleId","props","viewBox","ref","id","ForwardRef","SvgArrowDown","SvgArrowLeft","SvgArrowRight","SvgArrowRotate","SvgShuffle","getRandomBlock","validCells","generateGameBoardMatrix","filter","shotX","shotY","random","Array","from","map","getShipZone","shipSize","type","direction","shipArray","prevX","prevY","isShipZoneValid","shipOverlap","a","b","adjacentOverlap","outOfBounds","getRandomFleetPlacement","failure","forEach","newShip","shipType","randomCell","usedCells","cellIsValid","testArray","getShipPlacement","Game","defaultSelectedShip","useState","game","setGame","turn","setTurn","playerShips","setPlayerShips","playerShots","setPlayerShots","botShips","setBotShips","botShots","setBotShots","setSelectedShip","reset","moveShip","moveX","moveY","newSelectedShip","reduce","acc","cur","ship","useEffect","sunkAllShips","botShot","getNextShot","playerWin","buttonStyle","className","newShips","nextShip","values","nextShipSize","getNextShip","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9cf22108.chunk.js","sourcesContent":["export const GameStages = {\r\n\tSETUP: 0,\r\n\tSTARTGAME: 1,\r\n\tGAMEOVER: 2,\r\n};\r\n\r\nexport const PlayerType = {\r\n\tPLAYER: 0,\r\n\tBOT: 1,\r\n};\r\n\r\nexport const ShipTypes = {\r\n\tCARRIER: 0,\r\n\tBATTLESHIP: 1,\r\n\tDESTROYER: 2,\r\n\tSUBMARINE: 3,\r\n\tPATROLBOAT: 4,\r\n};\r\n\r\nexport const ShipSizes = {\r\n\t0: 5,\r\n\t1: 4,\r\n\t2: 3,\r\n\t3: 3,\r\n\t4: 2,\r\n};\r\n\r\nexport const BotState = {\r\n\tSCOUT: 0,\r\n\tHUNT: 1,\r\n};\r\n\r\nexport const ZoneType = {\r\n\tSHIP: 0,\r\n\tADJACENT: 1,\r\n};\r\n","import React from 'react';\r\nimport { PlayerType } from '../game/transforms';\r\n\r\nconst squareStyle = {\r\n\twidth: '100%',\r\n\theight: '100%',\r\n};\r\n\r\nexport const Cell = ({ hasShip, shipAdjacent, pointer, placingShip, hit, miss, children, disabled, playerType }) => {\r\n\tlet backgroundColor = '#ffffff';\r\n\r\n\tif (!hasShip && !hit && !miss) {\r\n\t\tbackgroundColor = '#ffffff';\r\n\t}\r\n\tif (hasShip && playerType !== PlayerType.BOT) backgroundColor = '#333';\r\n\tif (miss) backgroundColor = '#fff6b5';\r\n\tif (hit) backgroundColor = '#ffb5b5';\r\n\tif (placingShip) backgroundColor = '#39393a';\r\n\tif (disabled || (shipAdjacent && placingShip)) {\r\n\t\tbackgroundColor = '#e8e8e8';\r\n\t}\r\n\tif (placingShip && hasShip) backgroundColor = '#ffb5b5';\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={{\r\n\t\t\t\t...squareStyle,\r\n\t\t\t\tcolor: '#000',\r\n\t\t\t\tbackgroundColor,\r\n\t\t\t\tborder: '1px solid gray',\r\n\t\t\t\tcursor: pointer ? 'pointer' : 'auto',\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\tjustifyContent: 'center',\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default React.memo(Cell);\r\n","export const getLabel = (x, y) => {\r\n\tconst labels = [['', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J'], ['1'], ['2'], ['3'], ['4'], ['5'], ['6'], ['7'], ['8'], ['9'], ['10']];\r\n\r\n\tconst row = labels[x] || [];\r\n\tconst cell = row[y] || '';\r\n\treturn cell;\r\n};\r\n\r\nexport const hasAdjacentShip = (x, y, ships) => {\r\n\treturn ships.find(\r\n\t\t({ x: shipX, y: shipY }) =>\r\n\t\t\t(Math.abs(shipX - x) === 1 && Math.abs(shipY - y) === 1) ||\r\n\t\t\t(Math.abs(shipX - x) === 0 && Math.abs(shipY - y) === 1) ||\r\n\t\t\t(Math.abs(shipX - x) === 1 && Math.abs(shipY - y) === 0)\r\n\t);\r\n};\r\n\r\nexport const getShip = (cellX, cellY, ships) => {\r\n\treturn ships.find(({ x, y }) => x === cellX && cellY === y);\r\n};\r\n\r\nexport const getShot = (cellX, cellY, shots) => {\r\n\treturn shots.find(({ x, y }) => x === cellX && cellY === y);\r\n};\r\n\r\nexport const sortShips = (a, b) => {\r\n\treturn a.x > b.x ? 1 : a.x === b.x ? (a.y > b.y ? 1 : -1) : -1;\r\n};\r\n","import React from 'react';\r\nimport { Cell } from './Cell';\r\nimport { getLabel, hasAdjacentShip, getShip, getShot } from '../game/Game';\r\nimport { ShipTypes, ShipSizes, GameStages, PlayerType } from '../game/transforms';\r\n\r\nconst boardStyle = {\r\n\twidth: '100%',\r\n\theight: '100%',\r\n\tdisplay: 'flex',\r\n\tflexWrap: 'wrap',\r\n};\r\n\r\nlet squareStyle = { width: '9%', height: '9%' };\r\nconst BattleGrid = ({ ships, shots = [], selectedShip = [], stage, playerType, fireShot }) => {\r\n\tconst renderCell = i => {\r\n\t\tconst x = Math.floor(i / 11);\r\n\t\tconst y = i % 11;\r\n\t\tconst hasShip = getShip(x, y, ships);\r\n\t\tconst shot = getShot(x, y, shots);\r\n\t\tconst placingShip = getShip(x, y, selectedShip);\r\n\t\tconst shipAdjacent = hasAdjacentShip(x, y, ships);\r\n\t\tconst label = getLabel(x, y);\r\n\t\tlet pointer = false;\r\n\r\n\t\tconst fire = () => {\r\n\t\t\tif (hasShip) {\r\n\t\t\t\tfireShot(x, y, PlayerType.PLAYER, true);\r\n\t\t\t} else {\r\n\t\t\t\tfireShot(x, y, PlayerType.PLAYER, false);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst onClick = !shot && !label && x !== 0 && y !== 0 && stage === GameStages.STARTGAME && playerType === PlayerType.BOT ? fire : null;\r\n\t\tif (onClick !== null) {\r\n\t\t\tpointer = true;\r\n\t\t}\r\n\r\n\t\tconst { hit } = shot || {};\r\n\t\treturn (\r\n\t\t\t<div key={i} style={squareStyle} onClick={onClick}>\r\n\t\t\t\t<Cell\r\n\t\t\t\t\thit={hit === true}\r\n\t\t\t\t\tmiss={hit === false}\r\n\t\t\t\t\tpointer={pointer}\r\n\t\t\t\t\thasShip={hasShip}\r\n\t\t\t\t\tplayerType={playerType}\r\n\t\t\t\t\tplacingShip={placingShip}\r\n\t\t\t\t\tshipAdjacent={shipAdjacent}\r\n\t\t\t\t\tstage={stage}\r\n\t\t\t\t>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</Cell>\r\n\t\t\t</div>\r\n\t\t);\r\n\t};\r\n\r\n\tconst squares = [];\r\n\tfor (let i = 0; i < 121; i += 1) {\r\n\t\tsquares.push(renderCell(i));\r\n\t}\r\n\r\n\treturn <div style={boardStyle}>{squares}</div>;\r\n};\r\n\r\nexport default BattleGrid;\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M3.29289 9.70711C2.90237 9.31658 2.90237 8.68342 3.29289 8.29289L9.29289 2.29289C9.68342 1.90237 10.3166 1.90237 10.7071 2.29289L16.7071 8.29289C17.0976 8.68342 17.0976 9.31658 16.7071 9.70711C16.3166 10.0976 15.6834 10.0976 15.2929 9.70711L11 5.41421L11 17C11 17.5523 10.5523 18 10 18C9.44772 18 9 17.5523 9 17L9 5.41421L4.70711 9.70711C4.31658 10.0976 3.68342 10.0976 3.29289 9.70711Z\",\n  fill: \"#4A5568\"\n});\n\nfunction SvgArrowUp(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowUp);\nexport default __webpack_public_path__ + \"static/media/arrow-up.e721be2c.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M16.7071 10.2929C17.0976 10.6834 17.0976 11.3166 16.7071 11.7071L10.7071 17.7071C10.3166 18.0976 9.68342 18.0976 9.29289 17.7071L3.29289 11.7071C2.90237 11.3166 2.90237 10.6834 3.29289 10.2929C3.68342 9.90237 4.31658 9.90237 4.70711 10.2929L9 14.5858L9 3C9 2.44772 9.44772 2 10 2C10.5523 2 11 2.44772 11 3L11 14.5858L15.2929 10.2929C15.6834 9.90237 16.3166 9.90237 16.7071 10.2929Z\",\n  fill: \"#4A5568\"\n});\n\nfunction SvgArrowDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowDown);\nexport default __webpack_public_path__ + \"static/media/arrow-down.63ebab35.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M9.70711 16.7071C9.31658 17.0976 8.68342 17.0976 8.29289 16.7071L2.29289 10.7071C1.90237 10.3166 1.90237 9.68342 2.29289 9.29289L8.29289 3.29289C8.68342 2.90237 9.31658 2.90237 9.70711 3.29289C10.0976 3.68342 10.0976 4.31658 9.70711 4.70711L5.41421 9H17C17.5523 9 18 9.44772 18 10C18 10.5523 17.5523 11 17 11L5.41421 11L9.70711 15.2929C10.0976 15.6834 10.0976 16.3166 9.70711 16.7071Z\",\n  fill: \"#4A5568\"\n});\n\nfunction SvgArrowLeft(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowLeft);\nexport default __webpack_public_path__ + \"static/media/arrow-left.04ce9545.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M10.2929 3.29289C10.6834 2.90237 11.3166 2.90237 11.7071 3.29289L17.7071 9.29289C18.0976 9.68342 18.0976 10.3166 17.7071 10.7071L11.7071 16.7071C11.3166 17.0976 10.6834 17.0976 10.2929 16.7071C9.90237 16.3166 9.90237 15.6834 10.2929 15.2929L14.5858 11L3 11C2.44772 11 2 10.5523 2 10C2 9.44772 2.44772 9 3 9H14.5858L10.2929 4.70711C9.90237 4.31658 9.90237 3.68342 10.2929 3.29289Z\",\n  fill: \"#4A5568\"\n});\n\nfunction SvgArrowRight(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowRight);\nexport default __webpack_public_path__ + \"static/media/arrow-right.187ecd58.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M4 2C4.55228 2 5 2.44772 5 3V5.10125C6.27009 3.80489 8.04052 3 10 3C13.0494 3 15.641 4.94932 16.6014 7.66675C16.7855 8.18747 16.5126 8.75879 15.9918 8.94284C15.4711 9.12689 14.8998 8.85396 14.7157 8.33325C14.0289 6.38991 12.1755 5 10 5C8.36507 5 6.91204 5.78502 5.99935 7H9C9.55228 7 10 7.44772 10 8C10 8.55228 9.55228 9 9 9H4C3.44772 9 3 8.55228 3 8V3C3 2.44772 3.44772 2 4 2ZM4.00817 11.0572C4.52888 10.8731 5.1002 11.146 5.28425 11.6668C5.97112 13.6101 7.82453 15 10 15C11.6349 15 13.088 14.215 14.0006 13L11 13C10.4477 13 10 12.5523 10 12C10 11.4477 10.4477 11 11 11H16C16.2652 11 16.5196 11.1054 16.7071 11.2929C16.8946 11.4804 17 11.7348 17 12V17C17 17.5523 16.5523 18 16 18C15.4477 18 15 17.5523 15 17V14.8987C13.7299 16.1951 11.9595 17 10 17C6.95059 17 4.35905 15.0507 3.39857 12.3332C3.21452 11.8125 3.48745 11.2412 4.00817 11.0572Z\",\n  fill: \"#4A5568\"\n});\n\nfunction SvgArrowRotate(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    fill: \"none\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowRotate);\nexport default __webpack_public_path__ + \"static/media/arrow-rotate.2cd1e5a2.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M6.59 12.83L4.4 15c-.58.58-1.59 1-2.4 1H0v-2h2c.29 0 .8-.2 1-.41l2.17-2.18 1.42 1.42zM16 4V1l4 4-4 4V6h-2c-.29 0-.8.2-1 .41l-2.17 2.18L9.4 7.17 11.6 5c.58-.58 1.59-1 2.41-1h2zm0 10v-3l4 4-4 4v-3h-2c-.82 0-1.83-.42-2.41-1l-8.6-8.59C2.8 6.21 2.3 6 2 6H0V4h2c.82 0 1.83.42 2.41 1l8.6 8.59c.2.2.7.41.99.41h2z\"\n});\n\nfunction SvgShuffle(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 20,\n    height: 20,\n    viewBox: \"0 0 20 20\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgShuffle);\nexport default __webpack_public_path__ + \"static/media/shuffle.15061692.svg\";\nexport { ForwardRef as ReactComponent };","import { hasAdjacentShip } from './Game';\r\nimport { ShipSizes, ShipTypes } from './transforms';\r\n\r\nexport const getNextShot = (shots = []) => {\r\n\treturn getRandomBlock(shots);\r\n};\r\n\r\nconst getRandomBlock = shots => {\r\n\tconst validCells = generateGameBoardMatrix().filter(({ x, y }) => !shots.find(({ x: shotX, y: shotY }) => x === shotX && y === shotY));\r\n\tconst nextShot = validCells[Math.floor(Math.random() * validCells.length)];\r\n\r\n\treturn nextShot;\r\n};\r\n\r\nconst generateGameBoardMatrix = () => {\r\n\treturn Array.from(Array(100).keys()).map(i => {\r\n\t\tconst x = Math.floor(i / 10);\r\n\t\tconst y = i % 10;\r\n\r\n\t\treturn { x: x + 1, y: y + 1 };\r\n\t});\r\n};\r\n\r\n// Generate a big square from the starting point, will use later to see\r\n// if the square overlaps anywhere\r\nexport const getShipZone = (x, y, shipSize, type, direction) => {\r\n\tlet shipArray = [{ x, y, type }];\r\n\r\n\t// Get ship cells\r\n\tfor (let i = 1; i < shipSize; i++) {\r\n\t\tif (direction === 'x') {\r\n\t\t\tconst { x: prevX = x } = shipArray[i - 1];\r\n\t\t\tshipArray.push({ x: prevX + 1, y, type });\r\n\t\t} else {\r\n\t\t\tconst { y: prevY = y } = shipArray[i - 1] || {};\r\n\t\t\tshipArray.push({ x, y: prevY + 1, type });\r\n\t\t}\r\n\t}\r\n\r\n\treturn shipArray;\r\n};\r\n\r\n// Check to see if there is any overlap\r\nconst isShipZoneValid = (shipArray, ships) => {\r\n\tconst shipOverlap = shipArray.find(a => ships.find(b => a.x === b.x && a.y === b.y));\r\n\tconst adjacentOverlap = shipArray.find(({ x, y }) => hasAdjacentShip(x, y, ships));\r\n\tconst outOfBounds = shipArray.find(({ x, y }) => x > 10 || x < 1 || y > 10 || y < 1);\r\n\r\n\tif (shipOverlap || adjacentOverlap || outOfBounds) return false;\r\n\treturn true;\r\n};\r\n\r\nexport const getShipPlacement = (shipSize, shipType, ships) => {\r\n\tlet usedCells = [...ships];\r\n\tlet cellIsValid = false;\r\n\tlet direction = 'x';\r\n\tlet randomCell;\r\n\tlet shipArray = [];\r\n\r\n\tlet testArray = [];\r\n\r\n\twhile (!cellIsValid) {\r\n\t\trandomCell = getRandomBlock(usedCells);\r\n\t\tif (!randomCell) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tconst { x, y } = randomCell;\r\n\r\n\t\t// Check if there is enough space from that position\r\n\t\tif (x + (shipSize - 1) <= 10) {\r\n\t\t\tdirection = 'x';\r\n\t\t} else if (y + (shipSize - 1) <= 10) {\r\n\t\t\tdirection = 'y';\r\n\t\t} else {\r\n\t\t\tusedCells.push(randomCell);\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tshipArray = getShipZone(x, y, shipSize, shipType, direction);\r\n\t\ttestArray.push(shipArray);\r\n\t\tif (isShipZoneValid(shipArray, usedCells)) {\r\n\t\t\tcellIsValid = true;\r\n\t\t} else {\r\n\t\t\t// Add the invalid cell to array so that we don't try it again\r\n\t\t\tusedCells.push(randomCell);\r\n\t\t}\r\n\t}\r\n\r\n\treturn shipArray;\r\n};\r\n\r\nexport const getRandomFleetPlacement = () => {\r\n\tlet ships = [];\r\n\tlet failure = false;\r\n\r\n\tObject.keys(ShipSizes).forEach(x => {\r\n\t\tconst newShip = getShipPlacement(ShipSizes[x], ShipTypes[x], ships);\r\n\r\n\t\tif (newShip === null) {\r\n\t\t\tfailure = true;\r\n\t\t} else {\r\n\t\t\tships = [...ships, ...newShip];\r\n\t\t}\r\n\t});\r\n\r\n\t// Recusrive hack for random instances of the random generator getting the placement wrong\r\n\tif (failure) {\r\n\t\tships = getRandomFleetPlacement();\r\n\t}\r\n\r\n\treturn ships;\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect, useState } from 'react';\r\nimport { ShipTypes, ShipSizes, GameStages, PlayerType } from '../game/transforms';\r\nimport BattleGrid from './BattleGrid';\r\nimport Cell from './Cell';\r\nimport { ReactComponent as UpArrow } from '../icons/arrow-up.svg';\r\nimport { ReactComponent as DownArrow } from '../icons/arrow-down.svg';\r\nimport { ReactComponent as LeftArrow } from '../icons/arrow-left.svg';\r\nimport { ReactComponent as RightArrow } from '../icons/arrow-right.svg';\r\nimport { ReactComponent as RotateArrow } from '../icons/arrow-rotate.svg';\r\nimport { ReactComponent as ShuffleIcon } from '../icons/shuffle.svg';\r\nimport { getShip, hasAdjacentShip } from '../game/Game';\r\nimport { getNextShot, getRandomFleetPlacement } from '../game/BotBrain';\r\n\r\nconst Game = props => {\r\n\tconst defaultSelectedShip = [\r\n\t\t{ type: ShipTypes.CARRIER, x: 5, y: 3 },\r\n\t\t{ type: ShipTypes.CARRIER, x: 5, y: 4 },\r\n\t\t{ type: ShipTypes.CARRIER, x: 5, y: 5 },\r\n\t\t{ type: ShipTypes.CARRIER, x: 5, y: 6 },\r\n\t\t{ type: ShipTypes.CARRIER, x: 5, y: 7 },\r\n\t];\r\n\r\n\tconst [game, setGame] = useState(GameStages.SETUP);\r\n\tconst [turn, setTurn] = useState(PlayerType.PLAYER);\r\n\tconst [playerShips, setPlayerShips] = useState([]);\r\n\tconst [playerShots, setPlayerShots] = useState([]);\r\n\tconst [botShips, setBotShips] = useState([]);\r\n\tconst [botShots, setBotShots] = useState([]);\r\n\tconst [selectedShip, setSelectedShip] = useState(defaultSelectedShip);\r\n\r\n\tconst reset = () => {\r\n\t\tsetSelectedShip(defaultSelectedShip);\r\n\t\tsetPlayerShips([]);\r\n\t\tsetBotShips(getRandomFleetPlacement());\r\n\t\tsetGame(GameStages.SETUP);\r\n\t\tsetTurn(PlayerType.PLAYER);\r\n\t\tsetBotShots([]);\r\n\t\tsetPlayerShots([]);\r\n\t};\r\n\r\n\tconst getNextShip = (ships, selectedShip) => {\r\n\t\tconst nextShip = Object.values(ShipTypes).find(x => !ships.find(({ type }) => type === x) && !selectedShip.find(({ type }) => type === x));\r\n\t\tif (!nextShip) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst nextShipSize = ShipSizes[nextShip];\r\n\t\tconst x = 5;\r\n\t\tlet y = 3;\r\n\t\tlet ship = [{ type: nextShip, x, y }];\r\n\r\n\t\tfor (let i = 1; i < nextShipSize; i++) {\r\n\t\t\ty++;\r\n\t\t\tship.push({ type: nextShip, x, y: y });\r\n\t\t}\r\n\r\n\t\treturn ship;\r\n\t};\r\n\r\n\tconst moveShip = (moveX, moveY) => {\r\n\t\tif (!selectedShip) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet oldSelectedShip = [...selectedShip];\r\n\t\tlet newSelectedShip = oldSelectedShip.reduce((acc, cur) => {\r\n\t\t\tconst { type, x, y } = cur;\r\n\t\t\treturn [...acc, { type, x: x + moveX, y: y + moveY }];\r\n\t\t}, []);\r\n\r\n\t\tif (newSelectedShip.find(({ x, y }) => x > 10 || x < 1 || y > 10 || y < 1)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetSelectedShip(newSelectedShip);\r\n\t};\r\n\r\n\tconst rotateShip = () => {\r\n\t\tif (!selectedShip) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet oldSelectedShip = [...selectedShip];\r\n\r\n\t\tlet newSelectedShip = oldSelectedShip.reduce((acc, cur) => {\r\n\t\t\tconst { type, x, y } = cur;\r\n\t\t\treturn [...acc, { type, x: y, y: x }];\r\n\t\t}, []);\r\n\t\tsetSelectedShip(newSelectedShip);\r\n\t};\r\n\r\n\tconst placeShip = () => {\r\n\t\t// No ships left to place\r\n\t\tif (!selectedShip) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// Check for adjacent ships or existing ships\r\n\t\tif (selectedShip.find(({ x, y }) => getShip(x, y, playerShips) || hasAdjacentShip(x, y, playerShips))) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet newShips = [...playerShips];\r\n\t\tsetPlayerShips([...newShips, ...selectedShip]);\r\n\r\n\t\tconst nextShip = getNextShip(playerShips, selectedShip);\r\n\r\n\t\tif (nextShip) {\r\n\t\t\tsetSelectedShip(nextShip);\r\n\t\t} else {\r\n\t\t\tsetSelectedShip();\r\n\t\t}\r\n\t};\r\n\r\n\tconst startGame = () => {\r\n\t\tif (!selectedShip) {\r\n\t\t\tsetBotShips(getRandomFleetPlacement());\r\n\t\t\tsetGame(GameStages.STARTGAME);\r\n\t\t}\r\n\t};\r\n\r\n\tconst fireShot = (x, y, playerType, hit = null) => {\r\n\t\t// This pretty much only happens when the bot fires\r\n\t\tif (hit === null) {\r\n\t\t\tconst ship = getShip(x, y, playerShips);\r\n\t\t\thit = !!ship;\r\n\t\t}\r\n\r\n\t\tlet shots = [...playerShots];\r\n\t\tif (playerType === PlayerType.BOT) {\r\n\t\t\tshots = [...botShots];\r\n\t\t}\r\n\r\n\t\tshots = [...shots, { x, y, hit }];\r\n\r\n\t\tif (playerType === PlayerType.BOT) {\r\n\t\t\tsetBotShots(shots);\r\n\t\t} else {\r\n\t\t\tsetPlayerShots(shots);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (game === GameStages.STARTGAME) {\r\n\t\t\tconst { hit: lastShotHit } = playerShots[playerShots.length - 1] || [];\r\n\t\t\tif (!lastShotHit) {\r\n\t\t\t\tsetTurn(PlayerType.BOT);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [playerShots]);\r\n\r\n\tconst sunkAllShips = shots => {\r\n\t\treturn shots.filter(({ hit }) => hit === true).length >= 17;\r\n\t};\r\n\r\n\tconst botShot = () => {\r\n\t\tif (sunkAllShips(botShots)) {\r\n\t\t\tsetGame(GameStages.GAMEOVER);\r\n\t\t} else {\r\n\t\t\tconst { x, y } = getNextShot(botShots) || {};\r\n\t\t\tfireShot(x, y, PlayerType.BOT);\r\n\t\t}\r\n\t};\r\n\r\n\tconst playerWin = () => {\r\n\t\treturn sunkAllShips(playerShots);\r\n\t};\r\n\r\n\tconst randomiseFleet = () => {\r\n\t\tsetSelectedShip();\r\n\t\tsetPlayerShips(getRandomFleetPlacement());\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (game === GameStages.STARTGAME) {\r\n\t\t\tif (playerWin()) {\r\n\t\t\t\tsetGame(GameStages.GAMEOVER);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [playerShots]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (game === GameStages.STARTGAME) {\r\n\t\t\tconst { hit: lastShotHit } = botShots[botShots.length - 1] || [];\r\n\t\t\tif (!lastShotHit) {\r\n\t\t\t\tsetTurn(PlayerType.PLAYER);\r\n\t\t\t} else {\r\n\t\t\t\tbotShot();\r\n\t\t\t}\r\n\t\t}\r\n\t}, [botShots]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (turn === PlayerType.BOT && game === GameStages.STARTGAME) {\r\n\t\t\tbotShot();\r\n\t\t}\r\n\t}, [turn]);\r\n\r\n\tconst buttonStyle = { width: '33%', height: '33%' };\r\n\tif (game === GameStages.SETUP) {\r\n\t\treturn (\r\n\t\t\t<div className='Container' key='STARTUPCONTAINER'>\r\n\t\t\t\t<div style={{ width: '500px', height: '500px' }}>\r\n\t\t\t\t\t<BattleGrid ships={playerShips} selectedShip={selectedShip} stage={game} key='STARTUPGRID' />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{ width: '135px', height: '135px' }}>\r\n\t\t\t\t\t<div className='Button-Container'>\r\n\t\t\t\t\t\t<div style={buttonStyle} onClick={placeShip} className='no-selecto-bro'>\r\n\t\t\t\t\t\t\t<Cell pointer disabled={!selectedShip}>\r\n\t\t\t\t\t\t\t\tPlace\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={buttonStyle} onClick={() => moveShip(-1, 0)} className='no-selecto-bro'>\r\n\t\t\t\t\t\t\t<Cell pointer disabled={!selectedShip}>\r\n\t\t\t\t\t\t\t\t<UpArrow />\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={buttonStyle} onClick={reset} className='no-selecto-bro'>\r\n\t\t\t\t\t\t\t<Cell pointer>Reset</Cell>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={buttonStyle} onClick={() => moveShip(0, -1)} className='no-selecto-bro'>\r\n\t\t\t\t\t\t\t<Cell pointer disabled={!selectedShip}>\r\n\t\t\t\t\t\t\t\t<LeftArrow />\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={buttonStyle} onClick={rotateShip} className='no-selecto-bro'>\r\n\t\t\t\t\t\t\t<Cell pointer disabled={!selectedShip}>\r\n\t\t\t\t\t\t\t\t<RotateArrow />\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={buttonStyle} onClick={() => moveShip(0, 1)} className='no-selecto-bro'>\r\n\t\t\t\t\t\t\t<Cell pointer disabled={!selectedShip}>\r\n\t\t\t\t\t\t\t\t<RightArrow />\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={buttonStyle} onClick={randomiseFleet} className='no-selecto-bro'>\r\n\t\t\t\t\t\t\t<Cell pointer>\r\n\t\t\t\t\t\t\t\t<ShuffleIcon />\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={buttonStyle} onClick={() => moveShip(1, 0)} className='no-selecto-bro'>\r\n\t\t\t\t\t\t\t<Cell pointer disabled={!selectedShip}>\r\n\t\t\t\t\t\t\t\t<DownArrow />\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style={buttonStyle} onClick={startGame} className='no-selecto-bro'>\r\n\t\t\t\t\t\t\t<Cell pointer disabled={!!selectedShip}>\r\n\t\t\t\t\t\t\t\tStart\r\n\t\t\t\t\t\t\t</Cell>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tif (game === GameStages.STARTGAME) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className='Container2' key='PLAYCONTAINER'>\r\n\t\t\t\t\t<div style={{ width: '500px', height: '500px' }}>\r\n\t\t\t\t\t\t<h3>Player</h3>\r\n\t\t\t\t\t\t<BattleGrid shots={botShots} ships={playerShips} selectedShip={selectedShip} stage={game} playerType={PlayerType.PLAYER} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{ width: '500px', height: '500px' }}>\r\n\t\t\t\t\t\t<h3>Bot</h3>\r\n\t\t\t\t\t\t<BattleGrid shots={playerShots} ships={botShips} selectedShip={[]} stage={game} playerType={PlayerType.BOT} fireShot={fireShot} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className='Container3' key='ENDGAMECONTAINER'>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h1>{playerWin() ? 'You Win!' : 'Game Over'}</h1>\r\n\t\t\t\t\t<div style={{ width: '100%' }} onClick={reset}>\r\n\t\t\t\t\t\t<Cell pointer>Try Again</Cell>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='Container2'>\r\n\t\t\t\t<div style={{ width: '500px', height: '500px' }}>\r\n\t\t\t\t\t<h3>Player</h3>\r\n\t\t\t\t\t<BattleGrid shots={botShots} ships={playerShips} selectedShip={selectedShip} stage={game} playerType={PlayerType.PLAYER} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style={{ width: '500px', height: '500px' }}>\r\n\t\t\t\t\t<h3>Bot</h3>\r\n\t\t\t\t\t<BattleGrid shots={playerShots} ships={botShips} selectedShip={[]} stage={game} playerType={PlayerType.BOT} fireShot={fireShot} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Game;\r\n","import './App.css';\r\nimport Game from './components/Game';\r\n\r\nfunction App() {\r\n\treturn (\r\n\t\t<div className='App'>\r\n\t\t\t<div className='App-header'>\r\n\t\t\t\t<h2>react battleships</h2>\r\n\t\t\t</div>\r\n\t\t\t<div className='Game'>\r\n\t\t\t\t<Game key='Game-Component' />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n"],"sourceRoot":""}